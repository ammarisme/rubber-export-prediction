<div class="animated fadeIn">
  <div class="row">
  <div class="col-sm-8">
      <div class="card col-sm-12" style="padding-bottom: 20px;">

        <div class="card-header">
          Export Volume Forecast - Country : Indonesia : N. Rubber
          <div class="card-header-actions">
            <a href="http://www.chartjs.org">
              <small class="text-muted">-</small>
            </a>
          </div>
        </div>
        <div class="card-body">
          <div class="chart-wrapper">
            <canvas baseChart class="chart"
                    [datasets]="chart.lineChartData"
                    [labels]="chart.lineChartLabels"
                    [options]="chart.lineChartOptions"
                    [colors]="chart.lineChartColours"
                    [legend]="chart.lineChartLegend"
                    [chartType]="chart.lineChartType"
                    (chartHover)="chart.chartHovered($event)"
                    (chartClick)="chart.onclickFunc($event, chart.lineChartData[1].data, this, selectedYear)"></canvas>
          </div>
        </div>
      </div>
  </div>
  <div class="col-sm-4">
      <div class="row">
        <div class="col-sm-4" style="text-align: right;padding: 6px;">
          <label for="ccmonth">Year/Month</label>
        </div>
        <div class="col-sm-8">
          <select class="form-control" (change)="onYearChange($event)" [(ngModel)]="selectedYear" id="ccmonth">
            <option>2020</option>
            <option>2019</option>
            <option>2018</option>
            <option>2017</option>
            <option>2016</option>
            <option>2015</option>
            <option>2014</option>
            <option>2013</option>
            <option>2012</option>
            <option>2011</option>
            <option>2010</option>
            <option>2009</option>
            <option>2008</option>
            <option>2007</option>
          </select>
        </div>
      </div>
    <div class="card">
      <div class="card-body">
        <div class="h4 m-0">Annual Forecast : {{(annualForecastTotal/1000) | number: '.2'}} T [{{(annualForecastTotal/(19.2*1000)) | number: '.2'}}  TEU(s)]</div>
        <div>Exported so far : <strong>{{(exportedSoFar/1000) | number: '.2'}} [ {{(exportedSoFar/(19.2*1000)) | number: '.2'}}  TEU(s)]</strong> </div>
        <div class="progress progress-xs my-3">
          <div class="progress-bar bg-success" role="progressbar" style="{{'width: ' + ((100*exportedSoFar/annualForecastTotal)).toFixed(2)+'%'}}}" aria-valuenow="25" aria-valuemin="0" aria-valuemax="100"></div>
        </div>
        <small class="text-muted">Achievement : <strong>{{(100*(exportedSoFar/annualForecastTotal)).toFixed(2)+'%'}}</strong> </small>

        <br/>
        <div>Year-on-Year : <strong>{{ yearOnYear}}%</strong> </div>
        <div class="row col-lg-12">
          <progressbar class="progress" [value]="stacked1" [max]="100"></progressbar>
        </div>

        <div>Month-on-Month: <strong>{{monthOnMonthPercentage}}%</strong> </div>
        <div class="row col-lg-12">
          <progressbar class="progress" [value]="stacked2" [max]="100"></progressbar>
        </div>
      </div>
    </div>
    <div class="col-sm-12 row">
      <div class="col-sm-12">
        <a type="button" class="btn btn-square btn-block btn-dark" style="color:white" href="/#/forecast/forecast-adjust" >Adjust</a>
      </div>
    </div>
  </div>
  </div>
</div>

<div class="row">
  <div class="col-md-8">
    <div class="card">
      <div class="card-header">
        <i class="fa fa-align-justify"></i> Factors
      </div>
      <div class="card-body">
        <table class="table">
          <thead>
          <tr>
            <th>Variable</th>
            <th>Value</th>
            <th>Significance</th>
            <th></th>
          </tr>
          </thead>
          <tbody>
          <tr *ngFor="let parameter of parametersForTheMonth">
            <td>{{parameter.parameter}}</td>
            <td>{{parameter.value}}</td>
            <td>	-	</td>
            <td>
              <button class="btn badge badge-success" (click)="open(content, parameter)"  >View</button>
            </td>
          </tr>
          </tbody>
        </table>
        <ul class="pagination">
          <li class="page-item"><a class="page-link" href="#">Prev</a></li>
          <li class="page-item active">
            <a class="page-link" href="#">1</a>
          </li>
          <li class="page-item"><a class="page-link" href="#">2</a></li>
          <li class="page-item"><a class="page-link" href="#">3</a></li>
          <li class="page-item"><a class="page-link" href="#">4</a></li>
          <li class="page-item"><a class="page-link" href="#">Next</a></li>
        </ul>
      </div>
    </div>
  </div>
  <div class="col-md-4">
    <div class="card">
      <div class="card-header">
        Contribution to the Estimate by Variables
        <div class="card-header-actions">
          <a href="http://www.chartjs.org">
            <small class="text-muted">docs</small>
          </a>
        </div>
      </div>
      <div class="card-body">
        <div class="chart-wrapper">
          <canvas baseChart class="chart"
                  [data]="doughnutChartData"
                  [labels]="doughnutChartLabels"
                  [chartType]="doughnutChartType"
                  (chartHover)="chartHovered($event)"
                  (chartClick)="chartClicked($event)"></canvas>
        </div>
      </div>
    </div>
  </div>
  <ng-template #content let-modal>
    <div class="modal-header">
      <h4 class="modal-title" id="modal-basic-title">Variable Summary - Rainfall</h4>
      <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
        <span aria-hidden="true">&times;</span>
      </button>
    </div>
    <div class="modal-body">
      <form>
        <app-forecast-variable></app-forecast-variable>
      </form>
    </div>
    <!--<div class="modal-footer">
      <button type="button" class="btn btn-outline-dark" (click)="modal.close('Save click')">Save</button>
    </div>-->
  </ng-template>
</div>
<!--<app-forecast-variable></app-forecast-variable>-->

<!--

<div class="row">
  <div class="col-md-6">
    <button type="button" class="btn btn-block btn-primary form-control">Explore</button>
  </div>
</div>
-->
